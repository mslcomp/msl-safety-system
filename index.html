<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MSL ì•ˆì „ìë£Œ ë°°í¬ ë° ì„œëª… ì‹œìŠ¤í…œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Malgun Gothic', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 10px;
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 22px;
            margin-bottom: 5px;
        }
        
        .header p {
            opacity: 0.9;
            font-size: 14px;
        }
        
        .nav-tabs {
            display: flex;
            background: #f8f9fa;
        }
        
        .nav-tab {
            flex: 1;
            padding: 15px 10px;
            text-align: center;
            background: #f8f9fa;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }
        
        .nav-tab:hover {
            background: #e9ecef;
        }
        
        .nav-tab.active {
            background: white;
            border-bottom-color: #dc3545;
            color: #dc3545;
        }
        
        .tab-content {
            display: none;
            padding: 20px;
            min-height: 500px;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            border: 1px solid #e9ecef;
        }
        
        .card h3 {
            color: #dc3545;
            margin-bottom: 15px;
            font-size: 18px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #333;
            font-size: 14px;
        }
        
        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
        }
        
        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: #dc3545;
        }
        
        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin-right: 10px;
            margin-bottom: 10px;
            width: 100%;
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
            color: white;
        }
        
        .btn-success {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
            color: white;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .document-card {
            border: 2px solid #dc3545;
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
            background: linear-gradient(135deg, #fff5f5 0%, #ffe6e6 100%);
        }
        
        .document-title {
            font-size: 18px;
            font-weight: bold;
            color: #dc3545;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        
        .document-content {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #dc3545;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .signature-pad {
            border: 2px dashed #dc3545;
            width: 100%;
            height: 200px;
            margin: 15px 0;
            cursor: crosshair;
            background: #fafafa;
            border-radius: 10px;
            position: relative;
        }
        
        .signature-pad canvas {
            width: 100%;
            height: 100%;
            border-radius: 8px;
        }
        
        .signature-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
        
        .status-badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .status-signed {
            background: #d4edda;
            color: #155724;
        }
        
        .status-pending {
            background: #fff3cd;
            color: #856404;
        }
        
        .status-sent {
            background: #cce5ff;
            color: #004085;
        }
        
        .employee-list {
            max-height: 400px;
            overflow-y: auto;
        }
        
        .employee-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            border-bottom: 1px solid #e9ecef;
            background: #f8f9fa;
            margin: 5px 0;
            border-radius: 8px;
        }
        
        .qr-display {
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .qr-code {
            width: 200px;
            height: 200px;
            margin: 0 auto;
            background: white;
            border: 2px solid #dc3545;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: #666;
        }
        
        .file-upload {
            border: 2px dashed #dc3545;
            padding: 20px;
            text-align: center;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            background: #fff5f5;
        }
        
        .file-upload:hover {
            background: #ffe6e6;
        }
        
        .file-upload input {
            display: none;
        }
        
        .alert {
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border: 1px solid;
        }
        
        .alert-warning {
            background: #fff3cd;
            border-color: #ffc107;
            color: #856404;
        }
        
        .alert-success {
            background: #d4edda;
            border-color: #28a745;
            color: #155724;
        }
        
        .signature-history {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
        }
        
        .signature-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #dee2e6;
        }
        
        .signature-item:last-child {
            border-bottom: none;
        }
        
        @media (max-width: 768px) {
            .container {
                margin: 5px;
                border-radius: 15px;
            }
            
            .nav-tab {
                padding: 12px 5px;
                font-size: 12px;
            }
            
            .signature-pad {
                height: 150px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>âš ï¸ MSL ì•ˆì „ìë£Œ ë°°í¬ ì‹œìŠ¤í…œ</h1>
            <p>ãˆœì— ì—ìŠ¤ì—˜ì½¤í”„ë ˆì„œ ì•ˆì „êµìœ¡ ì „ìì„œëª… í”Œë«í¼</p>
        </div>
        
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('distribute')">ğŸ“¤ ìë£Œë°°í¬</button>
            <button class="nav-tab" onclick="showTab('sign')">âœï¸ ì„œëª…í™•ì¸</button>
            <button class="nav-tab" onclick="showTab('manage')">ğŸ“Š ê´€ë¦¬</button>
        </div>
        
        <!-- ìë£Œë°°í¬ íƒ­ -->
        <div id="distribute" class="tab-content active">
            <div class="card">
                <h3>ğŸ“‹ ìƒˆ ì•ˆì „ìë£Œ ë°°í¬</h3>
                <form id="distributionForm">
                    <div class="form-group">
                        <label class="form-label">ìë£Œ ì œëª©</label>
                        <input type="text" class="form-input" id="documentTitle" placeholder="ì˜ˆ: ì§€ê²Œì°¨ í¬í¬ì—ì„œ ì‘ì—… ì¤‘ ì¶”ë½ ì˜ˆë°©ëŒ€ì±…" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ìë£Œ êµ¬ë¶„</label>
                        <select class="form-select" id="documentType" required>
                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="accident_case">ì‚¬ê³ ì‚¬ë¡€</option>
                            <option value="safety_guide">ì•ˆì „ì§€ì¹¨</option>
                            <option value="emergency">ë¹„ìƒëŒ€ì‘</option>
                            <option value="regulation">ë²•ê·œë³€ê²½</option>
                            <option value="training">êµìœ¡ìë£Œ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ëŒ€ìƒ ë¶€ì„œ</label>
                        <select class="form-select" id="targetDepts" multiple>
                            <option value="all">ì „ì²´ë¶€ì„œ</option>
                            <option value="manufacturing">ì œì¡°íŒ€</option>
                            <option value="construction">ê±´ì„¤íŒ€</option>
                            <option value="logistics">ë¬¼ë¥˜íŒ€</option>
                            <option value="maintenance">ì„¤ë¹„íŒ€</option>
                        </select>
                        <small>Ctrl+í´ë¦­ìœ¼ë¡œ ì—¬ëŸ¬ ë¶€ì„œ ì„ íƒ ê°€ëŠ¥</small>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ìë£Œ ë‚´ìš©</label>
                        <textarea class="form-textarea" id="documentContent" rows="6" placeholder="ì•ˆì „ìë£Œì˜ ì£¼ìš” ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”..." required></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ì²¨ë¶€ íŒŒì¼</label>
                        <div class="file-upload" onclick="document.getElementById('documentFile').click()">
                            <input type="file" id="documentFile" accept=".pdf,.jpg,.png,.doc,.docx" multiple>
                            <p>ğŸ“„ íŒŒì¼ì„ ì„ íƒí•˜ê±°ë‚˜ ë“œë˜ê·¸í•˜ì—¬ ì—…ë¡œë“œ</p>
                            <p><small>ì§€ì› í˜•ì‹: PDF, ì´ë¯¸ì§€, ì›Œë“œ ë¬¸ì„œ</small></p>
                        </div>
                        <div id="uploadedFiles"></div>
                    </div>
                    <button type="submit" class="btn btn-danger">ğŸ“¤ ìë£Œ ë°°í¬ ë° ì„œëª… ìš”ì²­</button>
                </form>
            </div>
            
            <div class="card">
                <h3>ğŸ“‹ ë°°í¬ëœ ìë£Œ ëª©ë¡</h3>
                <div id="distributedDocuments">
                    <!-- ë°°í¬ëœ ë¬¸ì„œ ëª©ë¡ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
            </div>
        </div>
        
        <!-- ì„œëª…í™•ì¸ íƒ­ -->
        <div id="sign" class="tab-content">
            <div class="card">
                <h3>ğŸ“‹ ì„œëª… ëŒ€ê¸° ë¬¸ì„œ</h3>
                <div id="pendingDocuments">
                    <!-- ì„œëª… ëŒ€ê¸° ë¬¸ì„œê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
            </div>
        </div>
        
        <!-- ê´€ë¦¬ íƒ­ -->
        <div id="manage" class="tab-content">
            <div class="card">
                <h3>ğŸ“Š ì„œëª… í˜„í™© í†µê³„</h3>
                <div class="form-group">
                    <label class="form-label">ë¬¸ì„œë³„ ì„œëª… í˜„í™©</label>
                    <div id="signatureStats">
                        <!-- í†µê³„ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                    </div>
                </div>
                
                <button class="btn btn-primary" onclick="exportSignatureReport()">ğŸ“Š ì„œëª…í˜„í™© ë³´ê³ ì„œ ë‹¤ìš´ë¡œë“œ</button>
                <button class="btn btn-success" onclick="sendReminder()">ğŸ”” ë¯¸ì„œëª…ì ì•Œë¦¼ ë°œì†¡</button>
            </div>
            
            <div class="card">
                <h3>ğŸ‘¥ ì§ì› ê´€ë¦¬</h3>
                <button class="btn btn-primary" onclick="addEmployee()">ì§ì› ì¶”ê°€</button>
                <div id="employeeManagement">
                    <!-- ì§ì› ê´€ë¦¬ ëª©ë¡ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- ì„œëª… ëª¨ë‹¬ -->
    <div id="signatureModal" style="display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5);">
        <div style="background-color: white; margin: 5% auto; padding: 20px; border-radius: 15px; width: 90%; max-width: 500px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h3>âœï¸ ì „ìì„œëª…</h3>
                <span onclick="document.getElementById('employeeModal').style.display='none'" style="font-size: 24px; cursor: pointer; color: #666;">&times;</span>
            </div>
            
            <div id="documentToSign"></div>
            
            <div class="signature-info">
                <p><strong>ì„œëª…ì ì •ë³´</strong></p>
                <input type="text" id="signerName" class="form-input" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" required>
                <input type="text" id="signerDept" class="form-input" placeholder="ë¶€ì„œë¥¼ ì…ë ¥í•˜ì„¸ìš”" required style="margin-top: 10px;">
            </div>
            
            <div class="form-group">
                <label class="form-label">ì„œëª…ì„ ê·¸ë ¤ì£¼ì„¸ìš”</label>
                <div class="signature-pad">
                    <canvas id="signatureCanvas" width="400" height="200"></canvas>
                </div>
                <div style="text-align: center; margin: 10px 0;">
                    <button class="btn" onclick="clearSignature()" style="background: #6c757d; color: white; width: auto; margin-right: 10px;">ì§€ìš°ê¸°</button>
                    <button class="btn btn-success" onclick="saveSignature()" style="width: auto;">ì„œëª… ì™„ë£Œ</button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // ë°ì´í„° ì €ì¥ì†Œ
        let employees = JSON.parse(localStorage.getItem('safety_employees') || '[]');
        let documents = JSON.parse(localStorage.getItem('safety_documents') || '[]');
        let signatures = JSON.parse(localStorage.getItem('safety_signatures') || '[]');
        
        let currentDocumentId = null;
        let canvas = null;
        let ctx = null;
        let isDrawing = false;
        
        // íƒ­ ì „í™˜
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
            
            if (tabName === 'distribute') loadDistributedDocuments();
            if (tabName === 'sign') loadPendingDocuments();
            if (tabName === 'manage') loadManageData();
        }
        
        // ë¬¸ì„œ ë°°í¬ í¼ ì œì¶œ
        document.getElementById('distributionForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const targetDepts = Array.from(document.getElementById('targetDepts').selectedOptions).map(option => option.value);
            
            const document_obj = {
                id: Date.now().toString(),
                title: document.getElementById('documentTitle').value,
                type: document.getElementById('documentType').value,
                content: document.getElementById('documentContent').value,
                targetDepartments: targetDepts,
                createdAt: new Date().toISOString(),
                createdBy: 'ê´€ë¦¬ì',
                files: [], // ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬
                status: 'distributed'
            };
            
            documents.push(document_obj);
            localStorage.setItem('safety_documents', JSON.stringify(documents));
            
            // í¼ ì´ˆê¸°í™”
            this.reset();
            document.getElementById('uploadedFiles').innerHTML = '';
            
            alert('ì•ˆì „ìë£Œê°€ ì„±ê³µì ìœ¼ë¡œ ë°°í¬ë˜ì—ˆìŠµë‹ˆë‹¤!\nëŒ€ìƒ ì§ì›ë“¤ì—ê²Œ ì„œëª… ìš”ì²­ì´ ì „ì†¡ë©ë‹ˆë‹¤.');
            loadDistributedDocuments();
            
            // QR ì½”ë“œ ìƒì„± (ì‹¤ì œë¡œëŠ” SMS, ì¹´í†¡ ë“±ìœ¼ë¡œ ë§í¬ ì „ì†¡)
            generateDocumentQR(document_obj.id);
        });
        
        // ë°°í¬ëœ ë¬¸ì„œ ë¡œë“œ
        function loadDistributedDocuments() {
            const container = document.getElementById('distributedDocuments');
            
            if (documents.length === 0) {
                container.innerHTML = '<p>ë°°í¬ëœ ì•ˆì „ìë£Œê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
                return;
            }
            
            container.innerHTML = documents.map(doc => {
                const signedCount = signatures.filter(sig => sig.documentId === doc.id).length;
                const targetEmployees = getTargetEmployees(doc.targetDepartments);
                const totalCount = targetEmployees.length;
                const signatureRate = totalCount > 0 ? Math.round((signedCount / totalCount) * 100) : 0;
                
                return `
                    <div class="document-card">
                        <div class="document-title">
                            âš ï¸ ${doc.title}
                        </div>
                        <p><strong>êµ¬ë¶„:</strong> ${getDocumentTypeText(doc.type)}</p>
                        <p><strong>ë°°í¬ì¼:</strong> ${new Date(doc.createdAt).toLocaleDateString()}</p>
                        <p><strong>ëŒ€ìƒ ë¶€ì„œ:</strong> ${doc.targetDepartments.join(', ')}</p>
                        <p><strong>ì„œëª… í˜„í™©:</strong> ${signedCount}/${totalCount}ëª… (${signatureRate}%)</p>
                        
                        <div style="margin: 15px 0;">
                            <div style="background: #e9ecef; height: 20px; border-radius: 10px; overflow: hidden;">
                                <div style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%); height: 100%; width: ${signatureRate}%; transition: width 0.3s;"></div>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <button class="btn btn-primary" onclick="viewDocument('${doc.id}')" style="width: auto; flex: 1;">ìƒì„¸ë³´ê¸°</button>
                            <button class="btn btn-success" onclick="generateDocumentQR('${doc.id}')" style="width: auto; flex: 1;">QRì½”ë“œ</button>
                            <button class="btn" onclick="viewSignatures('${doc.id}')" style="background: #17a2b8; color: white; width: auto; flex: 1;">ì„œëª…í˜„í™©</button>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        // ì„œëª… ëŒ€ê¸° ë¬¸ì„œ ë¡œë“œ (ëª¨ë°”ì¼ ì ‘ì†ììš©)
        function loadPendingDocuments() {
            const container = document.getElementById('pendingDocuments');
            
            // URLì—ì„œ ë¬¸ì„œ ID í™•ì¸
            const urlParams = new URLSearchParams(window.location.search);
            const docId = urlParams.get('doc');
            
            if (docId) {
                const doc = documents.find(d => d.id === docId);
                if (doc) {
                    showDocumentForSigning(doc);
                    return;
                }
            }
            
            // ì¼ë°˜ì ì¸ ê²½ìš°: ëª¨ë“  ì„œëª… ëŒ€ê¸° ë¬¸ì„œ í‘œì‹œ
            if (documents.length === 0) {
                container.innerHTML = '<p>ì„œëª…í•  ë¬¸ì„œê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
                return;
            }
            
            container.innerHTML = documents.map(doc => `
                <div class="document-card">
                    <div class="document-title">âš ï¸ ${doc.title}</div>
                    <div class="document-content">
                        ${doc.content.substring(0, 200)}...
                    </div>
                    <div style="text-align: center;">
                        <button class="btn btn-danger" onclick="openSignatureModal('${doc.id}')">
                            âœï¸ ì„œëª…í•˜ê¸°
                        </button>
                    </div>
                </div>
            `).join('');
        }
        
        // íŠ¹ì • ë¬¸ì„œ ì„œëª… í™”ë©´ í‘œì‹œ
        function showDocumentForSigning(doc) {
            const container = document.getElementById('pendingDocuments');
            
            container.innerHTML = `
                <div class="alert alert-warning">
                    <strong>ğŸ“‹ ì•ˆì „ìë£Œ ìˆ™ì§€ ë° ì„œëª… ìš”ì²­</strong><br>
                    ì•„ë˜ ì•ˆì „ìë£Œë¥¼ ì£¼ì˜ê¹Šê²Œ ì½ê³  ì„œëª…í•´ì£¼ì„¸ìš”.
                </div>
                
                <div class="document-card">
                    <div class="document-title">âš ï¸ ${doc.title}</div>
                    <p><strong>êµ¬ë¶„:</strong> ${getDocumentTypeText(doc.type)}</p>
                    <p><strong>ë°°í¬ì¼:</strong> ${new Date(doc.createdAt).toLocaleDateString()}</p>
                    
                    <div class="document-content">
                        ${doc.content}
                    </div>
                    
                    <div class="alert alert-warning">
                        <strong>âš ï¸ ì¤‘ìš” ì•ˆë‚´</strong><br>
                        ìœ„ ì•ˆì „ìë£Œë¥¼ ìˆ™ì§€í•˜ì˜€ìœ¼ë©°, ì—…ë¬´ ìˆ˜í–‰ ì‹œ í•´ë‹¹ ì•ˆì „ìˆ˜ì¹™ì„ ì¤€ìˆ˜í•˜ê² ìŠµë‹ˆë‹¤.
                    </div>
                    
                    <div style="text-align: center;">
                        <button class="btn btn-danger" onclick="openSignatureModal('${doc.id}')">
                            âœï¸ ìˆ™ì§€ í™•ì¸ ì„œëª…í•˜ê¸°
                        </button>
                    </div>
                </div>
            `;
        }
        
        // ì„œëª… ëª¨ë‹¬ ì—´ê¸°
        function openSignatureModal(documentId) {
            currentDocumentId = documentId;
            const doc = documents.find(d => d.id === documentId);
            
            document.getElementById('documentToSign').innerHTML = `
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                    <h4>ğŸ“‹ ${doc.title}</h4>
                    <p>ìœ„ ì•ˆì „ìë£Œë¥¼ ìˆ™ì§€í•˜ì˜€ìŒì„ í™•ì¸í•©ë‹ˆë‹¤.</p>
                </div>
            `;
            
            document.getElementById('signatureModal').style.display = 'block';
            
            // ìº”ë²„ìŠ¤ ì´ˆê¸°í™”
            setTimeout(() => {
                initializeSignatureCanvas();
            }, 100);
        }
        
        // ì„œëª… ëª¨ë‹¬ ë‹«ê¸°
        function closeSignatureModal() {
            document.getElementById('signatureModal').style.display = 'none';
            currentDocumentId = null;
        }
        
        // ì„œëª… ìº”ë²„ìŠ¤ ì´ˆê¸°í™”
        function initializeSignatureCanvas() {
            canvas = document.getElementById('signatureCanvas');
            ctx = canvas.getContext('2d');
            
            // ìº”ë²„ìŠ¤ í¬ê¸° ì¡°ì •
            const rect = canvas.getBoundingClientRect();
            canvas.width = rect.width;
            canvas.height = rect.height;
            
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 2;
            ctx.lineCap = 'round';
            
            // ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);
            
            // í„°ì¹˜ ì´ë²¤íŠ¸ (ëª¨ë°”ì¼)
            canvas.addEventListener('touchstart', handleTouchStart);
            canvas.addEventListener('touchmove', handleTouchMove);
            canvas.addEventListener('touchend', stopDrawing);
        }
        
        function startDrawing(e) {
            isDrawing = true;
            const rect = canvas.getBoundingClientRect();
            ctx.beginPath();
            ctx.moveTo(e.clientX - rect.left, e.clientY - rect.top);
        }
        
        function draw(e) {
            if (!isDrawing) return;
            const rect = canvas.getBoundingClientRect();
            ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top);
            ctx.stroke();
        }
        
        function stopDrawing() {
            isDrawing = false;
        }
        
        function handleTouchStart(e) {
            e.preventDefault();
            const touch = e.touches[0];
            const mouseEvent = new MouseEvent('mousedown', {
                clientX: touch.clientX,
                clientY: touch.clientY
            });
            canvas.dispatchEvent(mouseEvent);
        }
        
        function handleTouchMove(e) {
            e.preventDefault();
            const touch = e.touches[0];
            const mouseEvent = new MouseEvent('mousemove', {
                clientX: touch.clientX,
                clientY: touch.clientY
            });
            canvas.dispatchEvent(mouseEvent);
        }
        
        // ì„œëª… ì§€ìš°ê¸°
        function clearSignature() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }
        
        // ì„œëª… ì €ì¥
        function saveSignature() {
            const signerName = document.getElementById('signerName').value.trim();
            const signerDept = document.getElementById('signerDept').value.trim();
            
            if (!signerName || !signerDept) {
                alert('ì´ë¦„ê³¼ ë¶€ì„œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // ì„œëª… ë°ì´í„° í™•ì¸
            const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            const data = imageData.data;
            let hasSignature = false;
            
            for (let i = 0; i < data.length; i += 4) {
                if (data[i + 3] > 0) { // ì•ŒíŒŒê°’ì´ 0ë³´ë‹¤ í¬ë©´ ê·¸ë ¤ì§„ ë¶€ë¶„
                    hasSignature = true;
                    break;
                }
            }
            
            if (!hasSignature) {
                alert('ì„œëª…ì„ ê·¸ë ¤ì£¼ì„¸ìš”.');
                return;
            }
            
            // ì¤‘ë³µ ì„œëª… í™•ì¸
            const existingSignature = signatures.find(sig => 
                sig.documentId === currentDocumentId && 
                sig.signerName === signerName
            );
            
            if (existingSignature) {
                if (!confirm('ì´ë¯¸ ì„œëª…í•˜ì…¨ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì„œëª…í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                    return;
                }
                // ê¸°ì¡´ ì„œëª… ì œê±°
                signatures = signatures.filter(sig => 
                    !(sig.documentId === currentDocumentId && sig.signerName === signerName)
                );
            }
            
            // ì„œëª… ë°ì´í„° ì €ì¥
            const signatureData = canvas.toDataURL('image/png');
            
            const signature = {
                id: Date.now().toString(),
                documentId: currentDocumentId,
                signerName: signerName,
                signerDept: signerDept,
                signatureImage: signatureData,
                signedAt: new Date().toISOString(),
                ipAddress: 'xxx.xxx.xxx.xxx', // ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” IP ì¶”ì 
                userAgent: navigator.userAgent
            };
            
            signatures.push(signature);
            localStorage.setItem('safety_signatures', JSON.stringify(signatures));
            
            closeSignatureModal();
            
            alert(`${signerName}ë‹˜ì˜ ì„œëª…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\nì•ˆì „ìë£Œ ìˆ™ì§€ë¥¼ í™•ì¸í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.`);
            
            // ì„œëª… ì™„ë£Œ í›„ í™”ë©´ ì—…ë°ì´íŠ¸
            loadPendingDocuments();
            if (document.getElementById('distribute').classList.contains('active')) {
                loadDistributedDocuments();
            }
        }
        
        // ë¬¸ì„œ ìƒì„¸ë³´ê¸°
        function viewDocument(documentId) {
            const doc = documents.find(d => d.id === documentId);
            if (!doc) return;
            
            alert(`ì œëª©: ${doc.title}\nêµ¬ë¶„: ${getDocumentTypeText(doc.type)}\në°°í¬ì¼: ${new Date(doc.createdAt).toLocaleDateString()}\nëŒ€ìƒë¶€ì„œ: ${doc.targetDepartments.join(', ')}\n\në‚´ìš©:\n${doc.content}`);
        }
        
        // QRì½”ë“œ ìƒì„±
        function generateDocumentQR(documentId) {
            const doc = documents.find(d => d.id === documentId);
            if (!doc) return;
            
            const qrUrl = `${window.location.origin}${window.location.pathname}?doc=${documentId}`;
            
            const modal = document.createElement('div');
            modal.style.cssText = 'position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5);';
            
            modal.innerHTML = `
                <div style="background-color: white; margin: 10% auto; padding: 30px; border-radius: 15px; width: 90%; max-width: 400px; text-align: center;">
                    <h3>ğŸ“± ëª¨ë°”ì¼ ì„œëª…ìš© QRì½”ë“œ</h3>
                    <div class="qr-code" style="margin: 20px auto;">
                        <div style="font-size: 12px; padding: 20px;">
                            <p>ğŸ“± QRì½”ë“œ</p>
                            <p style="word-break: break-all; margin: 10px 0; font-size: 10px;">${qrUrl}</p>
                            <p><small>ì‹¤ì œ êµ¬í˜„ì‹œ QRì½”ë“œ ì´ë¯¸ì§€ í‘œì‹œ</small></p>
                        </div>
                    </div>
                    <p><strong>${doc.title}</strong></p>
                    <p><small>ì§ì›ë“¤ì´ QRì½”ë“œë¥¼ ìŠ¤ìº”í•˜ì—¬<br>ëª¨ë°”ì¼ì—ì„œ ì„œëª…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</small></p>
                    <button class="btn btn-primary" onclick="copyToClipboard('${qrUrl}')" style="width: auto; margin: 5px;">ë§í¬ ë³µì‚¬</button>
                    <button class="btn" onclick="document.body.removeChild(this.closest('div').parentElement)" style="background: #6c757d; color: white; width: auto; margin: 5px;">ë‹«ê¸°</button>
                </div>
            `;
            
            document.body.appendChild(modal);
        }
        
        // ì„œëª… í˜„í™© ë³´ê¸°
        function viewSignatures(documentId) {
            const doc = documents.find(d => d.id === documentId);
            const docSignatures = signatures.filter(sig => sig.documentId === documentId);
            const targetEmployees = getTargetEmployees(doc.targetDepartments);
            
            const modal = document.createElement('div');
            modal.style.cssText = 'position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5);';
            
            modal.innerHTML = `
                <div style="background-color: white; margin: 5% auto; padding: 30px; border-radius: 15px; width: 90%; max-width: 600px; max-height: 80%; overflow-y: auto;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h3>ğŸ“Š ì„œëª… í˜„í™©: ${doc.title}</h3>
                        <span onclick="document.body.removeChild(this.closest('div').parentElement)" style="font-size: 24px; cursor: pointer;">&times;</span>
                    </div>
                    
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                        <p><strong>ì´ ëŒ€ìƒì:</strong> ${targetEmployees.length}ëª…</p>
                        <p><strong>ì„œëª… ì™„ë£Œ:</strong> ${docSignatures.length}ëª…</p>
                        <p><strong>ì™„ë£Œìœ¨:</strong> ${targetEmployees.length > 0 ? Math.round((docSignatures.length / targetEmployees.length) * 100) : 0}%</p>
                    </div>
                    
                    <h4>âœ… ì„œëª… ì™„ë£Œì</h4>
                    <div class="signature-history">
                        ${docSignatures.length > 0 ? docSignatures.map(sig => `
                            <div class="signature-item">
                                <div>
                                    <strong>${sig.signerName}</strong> (${sig.signerDept})<br>
                                    <small>${new Date(sig.signedAt).toLocaleString()}</small>
                                </div>
                                <span class="status-badge status-signed">ì™„ë£Œ</span>
                            </div>
                        `).join('') : '<p>ì„œëª… ì™„ë£Œìê°€ ì—†ìŠµë‹ˆë‹¤.</p>'}
                    </div>
                    
                    <h4>â³ ì„œëª… ëŒ€ê¸°ì</h4>
                    <div class="signature-history">
                        ${targetEmployees.filter(emp => !docSignatures.find(sig => sig.signerName === emp.name)).map(emp => `
                            <div class="signature-item">
                                <div>
                                    <strong>${emp.name}</strong> (${emp.department})<br>
                                    <small>ì„œëª… ëŒ€ê¸° ì¤‘</small>
                                </div>
                                <span class="status-badge status-pending">ëŒ€ê¸°</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }
        
        // ê´€ë¦¬ ë°ì´í„° ë¡œë“œ
        function loadManageData() {
            loadSignatureStats();
            loadEmployeeManagement();
        }
        
        // ì„œëª… í†µê³„ ë¡œë“œ
        function loadSignatureStats() {
            const container = document.getElementById('signatureStats');
            
            if (documents.length === 0) {
                container.innerHTML = '<p>í†µê³„ë¥¼ í‘œì‹œí•  ë¬¸ì„œê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
                return;
            }
            
            container.innerHTML = documents.map(doc => {
                const docSignatures = signatures.filter(sig => sig.documentId === doc.id);
                const targetEmployees = getTargetEmployees(doc.targetDepartments);
                const signatureRate = targetEmployees.length > 0 ? Math.round((docSignatures.length / targetEmployees.length) * 100) : 0;
                
                return `
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 10px 0;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <strong>${doc.title}</strong><br>
                                <small>${new Date(doc.createdAt).toLocaleDateString()}</small>
                            </div>
                            <div style="text-align: right;">
                                <div style="font-size: 18px; font-weight: bold; color: ${signatureRate === 100 ? '#28a745' : signatureRate > 50 ? '#ffc107' : '#dc3545'};">
                                    ${signatureRate}%
                                </div>
                                <div style="font-size: 12px;">
                                    ${docSignatures.length}/${targetEmployees.length}ëª…
                                </div>
                            </div>
                        </div>
                        <div style="background: #e9ecef; height: 8px; border-radius: 4px; margin-top: 10px; overflow: hidden;">
                            <div style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%); height: 100%; width: ${signatureRate}%; transition: width 0.3s;"></div>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        // ì§ì› ê´€ë¦¬ ë¡œë“œ
        function loadEmployeeManagement() {
            const container = document.getElementById('employeeManagement');
            
            if (employees.length === 0) {
                container.innerHTML = '<p>ë“±ë¡ëœ ì§ì›ì´ ì—†ìŠµë‹ˆë‹¤.</p>';
                return;
            }
            
            container.innerHTML = '<div class="employee-list">' + employees.map(emp => {
                const empSignatures = signatures.filter(sig => sig.signerName === emp.name);
                
                return `
                    <div class="employee-item">
                        <div>
                            <strong>${emp.name}</strong> (${emp.department})<br>
                            <small>ì„œëª… ì™„ë£Œ: ${empSignatures.length}ê±´</small>
                        </div>
                        <div>
                            <button class="btn btn-primary" onclick="viewEmployeeSignatures('${emp.id}')" style="width: auto; padding: 8px 12px;">ì´ë ¥ë³´ê¸°</button>
                        </div>
                    </div>
                `;
            }).join('') + '</div>';
        }
        
        // ì§ì›ë³„ ì„œëª… ì´ë ¥ ë³´ê¸°
        function viewEmployeeSignatures(employeeId) {
            const employee = employees.find(emp => emp.id === employeeId);
            const empSignatures = signatures.filter(sig => sig.signerName === employee.name);
            
            const modal = document.createElement('div');
            modal.style.cssText = 'position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5);';
            
            modal.innerHTML = `
                <div style="background-color: white; margin: 10% auto; padding: 30px; border-radius: 15px; width: 90%; max-width: 500px; max-height: 70%; overflow-y: auto;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h3>${employee.name}ë‹˜ ì„œëª… ì´ë ¥</h3>
                        <span onclick="document.body.removeChild(this.closest('div').parentElement)" style="font-size: 24px; cursor: pointer;">&times;</span>
                    </div>
                    
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                        <p><strong>ë¶€ì„œ:</strong> ${employee.department}</p>
                        <p><strong>ì´ ì„œëª… ê±´ìˆ˜:</strong> ${empSignatures.length}ê±´</p>
                    </div>
                    
                    <div class="signature-history">
                        ${empSignatures.length > 0 ? empSignatures.map(sig => {
                            const doc = documents.find(d => d.id === sig.documentId);
                            return `
                                <div class="signature-item">
                                    <div>
                                        <strong>${doc ? doc.title : 'ì•Œ ìˆ˜ ì—†ëŠ” ë¬¸ì„œ'}</strong><br>
                                        <small>${new Date(sig.signedAt).toLocaleString()}</small>
                                    </div>
                                    <span class="status-badge status-signed">ì™„ë£Œ</span>
                                </div>
                            `;
                        }).join('') : '<p>ì„œëª… ì´ë ¥ì´ ì—†ìŠµë‹ˆë‹¤.</p>'}
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }
        
        // ì„œëª…í˜„í™© ë³´ê³ ì„œ ë‚´ë³´ë‚´ê¸°
        function exportSignatureReport() {
            const now = new Date();
            let report = `MSL ì•ˆì „ìë£Œ ì„œëª… í˜„í™© ë³´ê³ ì„œ\n`;
            report += `ìƒì„±ì¼ì‹œ: ${now.toLocaleString()}\n`;
            report += `ì‘ì„±ì: ì•ˆì „ê´€ë¦¬íŒ€\n\n`;
            report += `=================================\n\n`;
            
            documents.forEach(doc => {
                const docSignatures = signatures.filter(sig => sig.documentId === doc.id);
                const targetEmployees = getTargetEmployees(doc.targetDepartments);
                const signatureRate = targetEmployees.length > 0 ? Math.round((docSignatures.length / targetEmployees.length) * 100) : 0;
                
                report += `ğŸ“‹ ${doc.title}\n`;
                report += `ë°°í¬ì¼: ${new Date(doc.createdAt).toLocaleDateString()}\n`;
                report += `ëŒ€ìƒë¶€ì„œ: ${doc.targetDepartments.join(', ')}\n`;
                report += `ì„œëª…í˜„í™©: ${docSignatures.length}/${targetEmployees.length}ëª… (${signatureRate}%)\n`;
                
                if (docSignatures.length > 0) {
                    report += `\nâœ… ì„œëª…ì™„ë£Œì:\n`;
                    docSignatures.forEach(sig => {
                        report += `  - ${sig.signerName} (${sig.signerDept}) - ${new Date(sig.signedAt).toLocaleString()}\n`;
                    });
                }
                
                const unsigned = targetEmployees.filter(emp => !docSignatures.find(sig => sig.signerName === emp.name));
                if (unsigned.length > 0) {
                    report += `\nâ³ ì„œëª…ëŒ€ê¸°ì:\n`;
                    unsigned.forEach(emp => {
                        report += `  - ${emp.name} (${emp.department})\n`;
                    });
                }
                
                report += `\n---------------------------------\n\n`;
            });
            
            // íŒŒì¼ ë‹¤ìš´ë¡œë“œ
            const blob = new Blob([report], { type: 'text/plain; charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `MSL_ì•ˆì „ìë£Œ_ì„œëª…í˜„í™©_${now.toISOString().split('T')[0]}.txt`;
            a.click();
            URL.revokeObjectURL(url);
            
            alert('ì„œëª…í˜„í™© ë³´ê³ ì„œê°€ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!');
        }
        
        // ë¯¸ì„œëª…ì ì•Œë¦¼ ë°œì†¡
        function sendReminder() {
            let totalUnsigned = 0;
            
            documents.forEach(doc => {
                const docSignatures = signatures.filter(sig => sig.documentId === doc.id);
                const targetEmployees = getTargetEmployees(doc.targetDepartments);
                const unsigned = targetEmployees.filter(emp => !docSignatures.find(sig => sig.signerName === emp.name));
                totalUnsigned += unsigned.length;
            });
            
            if (totalUnsigned === 0) {
                alert('ëª¨ë“  ì§ì›ì´ ì„œëª…ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤!');
                return;
            }
            
            // ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” SMS, ì¹´ì¹´ì˜¤í†¡, ì´ë©”ì¼ ë“±ìœ¼ë¡œ ë°œì†¡
            alert(`${totalUnsigned}ëª…ì˜ ë¯¸ì„œëª…ìì—ê²Œ ì•Œë¦¼ì´ ë°œì†¡ë©ë‹ˆë‹¤.\n(ì‹¤ì œ êµ¬í˜„ì‹œ SMS, ì¹´í†¡ ì—°ë™)`);
        }
        
        // ì§ì› ì¶”ê°€
        function addEmployee() {
            const name = prompt('ì§ì› ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”:');
            if (!name) return;
            
            const department = prompt('ë¶€ì„œë¥¼ ì…ë ¥í•˜ì„¸ìš”:');
            if (!department) return;
            
            const employee = {
                id: Date.now().toString(),
                name: name.trim(),
                department: department.trim(),
                phone: '',
                createdAt: new Date().toISOString()
            };
            
            employees.push(employee);
            localStorage.setItem('safety_employees', JSON.stringify(employees));
            
            alert(`${name}ë‹˜ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.`);
            loadEmployeeManagement();
        }
        
        // ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
        function getDocumentTypeText(type) {
            const types = {
                accident_case: 'ì‚¬ê³ ì‚¬ë¡€',
                safety_guide: 'ì•ˆì „ì§€ì¹¨',
                emergency: 'ë¹„ìƒëŒ€ì‘',
                regulation: 'ë²•ê·œë³€ê²½',
                training: 'êµìœ¡ìë£Œ'
            };
            return types[type] || type;
        }
        
        function getTargetEmployees(targetDepartments) {
            if (targetDepartments.includes('all')) {
                return employees;
            }
            return employees.filter(emp => targetDepartments.includes(emp.department));
        }
        
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('ë§í¬ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
            }).catch(() => {
                // í´ë°±
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('ë§í¬ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
            });
        }
        
        // íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬
        document.getElementById('documentFile').addEventListener('change', function(e) {
            const files = Array.from(e.target.files);
            const uploadedFiles = document.getElementById('uploadedFiles');
            
            uploadedFiles.innerHTML = '<div style="margin-top: 10px;"><h4>ğŸ“ ì—…ë¡œë“œëœ íŒŒì¼:</h4>' + 
                files.map(file => `<p>ğŸ“„ ${file.name} (${Math.round(file.size/1024)}KB)</p>`).join('') + '</div>';
        });
        
        // URL íŒŒë¼ë¯¸í„° í™•ì¸
        function checkUrlParams() {
            const urlParams = new URLSearchParams(window.location.search);
            const docId = urlParams.get('doc');
            
            if (docId) {
                // ì„œëª… íƒ­ìœ¼ë¡œ ì „í™˜
                showTab('sign');
                document.querySelector('[onclick="showTab(\'sign\')"]').classList.add('active');
                document.querySelector('[onclick="showTab(\'distribute\')"]').classList.remove('active');
            }
        }
        
        // ì´ˆê¸° ë¡œë“œ
        document.addEventListener('DOMContentLoaded', function() {
            checkUrlParams();
            
            // ìƒ˜í”Œ ë°ì´í„° ë¡œë“œ (ìµœì´ˆ ì‹¤í–‰ì‹œ)
            if (employees.length === 0) {
                loadSampleData();
            }
            
            loadDistributedDocuments();
        });
        
        // ìƒ˜í”Œ ë°ì´í„° ë¡œë“œ
        function loadSampleData() {
            const sampleEmployees = [
                { id: '1', name: 'ê¹€ì² ìˆ˜', department: 'manufacturing', phone: '010-1234-5678', createdAt: new Date().toISOString() },
                { id: '2', name: 'ì´ì˜í¬', department: 'construction', phone: '010-2345-6789', createdAt: new Date().toISOString() },
                { id: '3', name: 'ë°•ë¯¼ìˆ˜', department: 'logistics', phone: '010-3456-7890', createdAt: new Date().toISOString() },
                { id: '4', name: 'ì •ìˆ˜ì§„', department: 'maintenance', phone: '010-4567-8901', createdAt: new Date().toISOString() }
            ];
            
            employees = sampleEmployees;
            localStorage.setItem('safety_employees', JSON.stringify(employees));
            
            // ìƒ˜í”Œ ë¬¸ì„œ ì¶”ê°€
            const sampleDocument = {
                id: 'sample_doc_1',
                title: 'ì§€ê²Œì°¨ í¬í¬ì—ì„œ ì‘ì—… ì¤‘ ì¶”ë½ ì˜ˆë°©ëŒ€ì±…',
                type: 'accident_case',
                content: `âš ï¸ ì‚¬ê³  ê°œìš”
2024ë…„ 11ì›”, ê²½ê¸°ë„ ì†Œì¬ ì‚¬ì—…ì¥ì—ì„œ ì™¸êµ­ì¸ ê·¼ë¡œì 2ëª…ì´ ì§€ê²Œì°¨ í¬í¬ ìœ„ íŒ”ë ˆíŠ¸ì— ì ì¬ëœ íê¸°ë¬¼ì„ ì•”ë¡¤ë°•ìŠ¤ì— íˆ¬í•˜í•˜ëŠ” ì‘ì—…ì„ í•˜ë˜ ì¤‘ íŒ”ë ˆíŠ¸ê°€ í¬í¬ì—ì„œ ë°€ë¦¬ë©° ëª¸ê· í˜•ì„ ìƒê³  ì•½ 2.6m ì•„ë˜ì˜ ë°”ë‹¥ìœ¼ë¡œ ì¶”ë½í•˜ì—¬ ë¶€ìƒ

ğŸ” ë°œìƒ ì›ì¸
1. ì§€ê²Œì°¨ ìŠ¹ì°¨ì„ ì™¸ íƒ‘ìŠ¹
2. ì§€ê²Œì°¨ ì£¼ìš©ë„ ì™¸ ì‚¬ìš© (ê³ ì†Œì‘ì—… ìš©ë„)
3. ì¶”ë½ ë°©ì§€ì¡°ì¹˜ ë¯¸ì‹¤ì‹œ

âœ… ì˜ˆë°© ëŒ€ì±…
1. ìŠ¹ì°¨ì„ ì™¸ íƒ‘ìŠ¹ ë° ì£¼ìš©ë„ ì™¸ ì‚¬ìš© ê¸ˆì§€
2. ì‘ì—…ë°œíŒ ë“± ì¶”ë½ ë°©ì§€ì¡°ì¹˜ ì‹¤ì‹œ
3. ì‘ì—…íŠ¹ì„±ì— ë§ëŠ” ê¸°ëŠ¥ì˜ ì§€ê²Œì°¨ ì‚¬ìš©

âš ï¸ ì¤‘ìš”: ëª¨ë“  ì‘ì—…ìëŠ” ìœ„ ì•ˆì „ìˆ˜ì¹™ì„ ë°˜ë“œì‹œ ì¤€ìˆ˜í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.`,
                targetDepartments: ['all'],
                createdAt: new Date().toISOString(),
                createdBy: 'ì•ˆì „ê´€ë¦¬íŒ€',
                status: 'distributed'
            };
            
            documents = [sampleDocument];
            localStorage.setItem('safety_documents', JSON.stringify(documents));
            
            console.log('ìƒ˜í”Œ ë°ì´í„°ê°€ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.');
        }
    </script>
</body>
</html>
